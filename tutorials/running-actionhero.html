<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="57x57" href="/static/images/icons/apple-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/static/images/icons/apple-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/static/images/icons/apple-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/static/images/icons/apple-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/static/images/icons/apple-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/static/images/icons/apple-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/static/images/icons/apple-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/static/images/icons/apple-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="/static/images/icons/apple-icon-180x180.png"/><link rel="icon" type="image/png" sizes="192x192" href="/static/images/icons/android-icon-192x192.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/images/icons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/static/images/icons/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/images/icons/favicon-16x16.png"/><meta name="viewport" content="width=device-width"/><link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css"/><link rel="stylesheet" type="text/css" href="/static/css/bebasNeue.css"/><link rel="stylesheet" type="text/css" href="/static/css/animations.css"/><link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700,800|Roboto:100,300,400,500,700,900" rel="stylesheet"/><title>Actionhero</title><script src="/static/js/googleAnalytics.js"></script><meta name="next-head-count" content="21"/><link rel="preload" href="/_next/static/35oW7JSExR43IpR5WpolR/pages/tutorials/%5Bname%5D.js" as="script"/><link rel="preload" href="/_next/static/35oW7JSExR43IpR5WpolR/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-08f7b238829422e3b9b2.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.fb8e90ce3bafc15ecdd8.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-2325b25da04a50e601b5.js" as="script"/></head><body><div id="__next"><div><div style="padding-left:0;padding-right:0;font-family:Roboto, sans-serif;font-size:14px;font-weight:300" class="container-fluid"><header style="background-color:#2F5266"><div class="container"><nav style="background-color:#2F5266;padding-top:5px;margin-bottom:10px;border:0" class="navbar navbar-default"><div class="container"><div class="navbar-header"><a style="padding-top:0;margin-bottom:15px" class="navbar-brand"><img src="/static/images/Actionhero-logo-header-wordmark.svg" style="padding-top:14px;padding-bottom:20px"/></a><button type="button" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"></ul><ul class="hidden-md hidden-sm hidden-xs nav navbar-nav navbar-left"><li role="presentation" class=""><a role="button" href="#"> </a></li><li role="presentation" class=""><a role="button" href="#"> </a></li></ul><ul class="nav navbar-nav navbar-left"><li role="presentation" class="hidden-sm"><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Why Actionhero</span></a></li><li role="presentation" class=""><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Downloads</span></a></li><li role="presentation" class=""><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Tutorials</span></a></li><li role="presentation" class=""><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Documentation</span></a></li><li role="presentation" class="hidden-sm"><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Plugins</span></a></li><li role="presentation" class=""><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Community</span></a></li><li role="presentation" class=""><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Shop</span></a></li></ul><ul class="nav navbar-nav navbar-right"><div><a style="text-decoration:none" href="/get-started"><button style="font-family:Roboto, sans-serif;font-size:14px;max-width:200px;border-radius:50px;margin:0 auto;color:#FFFFFF;background-color:#E14E3A;border-color:#E14E3A;font-weight:300;margin-top:20px;margin-bottom:0;margin-left:10px;margin-right:10px;outline:none" type="button" class="btn btn-lg btn-default btn-block">Get Started</button></a></div></ul></div></div></nav></div></header></div><div style="padding-left:0;padding-right:0;font-family:Roboto, sans-serif;font-size:14px;font-weight:300" class="container-fluid"><div style="background-color:#FBF9E4;color:#2F5266;font-weight:200;padding:50px"><div class="container"><div class="row"><div style="text-align:center" class="col-md-3"><img src="/static/images/undefined"/></div><div style="text-align:center" class="col-md-6"><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px"><br/>Running-actionhero</h1></div><div class="col-md-3"></div></div></div></div><div style="height:183px;background:url(&quot;/static/images/clouds-white.svg&quot;) no-repeat center #FBF9E4"></div><div style="padding-bottom:100px" class="container"><div class="row"><div id="_top"></div><div id="docPageContent" class="col-md-12"><div class="row"><div class="col-md-9"><div><br/><h2 id="The Actionhero Binary" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">The Actionhero Binary</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div><p>The suggested method to run your Actionhero server is to use the included <code>./node_modules/.bin/Actionhero</code> binary. Note that there is no <code>main.js</code> or specific start script your project needs. Actionhero handles this for you. Your Actionhero project simply needs to follow the proper directory conventions and it will be bootable.</p><p>The help for this binary is as follows:</p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code>--------------------------------------
Actionhero COMMAND &gt;&gt; help
--------------------------------------
Actionhero - A multi-transport node.js API Server <span style="color:#954121">with</span> integrated cluster capabilities and delayed tasks

Binary options:

* actions list
* <span style="color:#0086b3">console</span>
* generate
* generate action
* generate cli
* generate initializer
* generate plugin
* generate server
* generate task
* help
* start
* start cluster
* task enqueue
* version

Descriptions:

* actions list
  description: I will list the actions defined on <span style="color:#954121">this</span> server

* <span style="color:#0086b3">console</span>
  description: start an interactive REPL session <span style="color:#954121">with</span> the api object <span style="color:#954121">in</span>-scope

* generate
  description: will prepare an empty directory <span style="color:#954121">with</span> a template Actionhero project

* generate action
  description: generate a <span style="color:#954121">new</span> action
  example: Actionhero generate action --name=[name] --description=[description]
  inputs:
    [name]
    [description]
      <span style="color:#954121">default</span>: an Actionhero action

* generate cli
  description: generate a <span style="color:#954121">new</span> cli command
  example: Actionhero generate cli --name=[name]
  inputs:
    [name]
    [description] (optional)
      <span style="color:#954121">default</span>: an Actionhero cli command
    [example] (optional)
      <span style="color:#954121">default</span>: Actionhero command --option=yes

* generate initializer
  description: generate a <span style="color:#954121">new</span> initializer
  example: Actionhero generate initializer --name=[name] --loadPriority=[p] --startPriority=[p] --stopPriority=[p]
  inputs:
    [name]
    [loadPriority]
      <span style="color:#954121">default</span>: <span style="color:#40a070">1000</span>
    [startPriority]
      <span style="color:#954121">default</span>: <span style="color:#40a070">1000</span>
    [stopPriority]
      <span style="color:#954121">default</span>: <span style="color:#40a070">1000</span>

* generate plugin
  description: generate the structure <span style="color:#954121">of</span> a <span style="color:#954121">new</span> Actionhero plugin <span style="color:#954121">in</span> an empty directory
  example: Actionhero generate plugin

* generate server
  description: generate a <span style="color:#954121">new</span> server
  example: Actionhero generate server --name=[name]
  inputs:
    [name]

* generate task
  description: generate a <span style="color:#954121">new</span> task
  example: Actionhero generate task --name=[name] --description=[description] --scope=[scope] --frequency=[frequency]
  inputs:
    [name]
    [queue]
    [description]
      <span style="color:#954121">default</span>: an Actionhero task
    [frequency]

* help
  description: get actonhero CLI help; will display <span style="color:#954121">this</span> <span style="color:#0086b3">document</span>

* start
  description: start <span style="color:#954121">this</span> Actionhero server
  example: Actionhero start --config=[<span style="color:#b68">/path/</span>to/config] --title=[processTitle] --daemon
  inputs:
    [config] (optional)
      note: path to config.js, defaults to <span style="color:#219161">&quot;process.cwd()&quot;</span> + <span style="color:#219161">&#x27;/&#x27;</span> + config.js. You can also use ENV[ACTIONHERO_CONFIG]
    [title] (optional)
      note: process title to use <span style="color:#954121">for</span> Actionhero\<span style="color:#219161">&#x27;s ID, ps, log, and pidFile defaults. Must be unique for each member of the cluster. You can also use ENV[ACTIONHERO_TITLE]. Process renaming does not work on OSX/Windows
    [daemon] (optional)
      note: to fork and run as a new background process defaults to false

* start cluster
  description: start an Actionhero cluster
  example: Actionhero start cluster --workers=[numWorkers] --workerTitlePrefix=[title] --daemon
  inputs:
    [workers]
      note: number of workers (defaults to # CPUs)
      default: 8
    [title] (optional)
      note: worker title prefix (default &#x27;</span>Actionhero-worker-<span style="color:#219161">&#x27;) set `--workerTitlePrefix=hostname`, your app.id would be like your_host_name-#
    [workerTitlePrefix]
      default: Actionhero-worker-
    [daemon] (optional)
      note: to fork and run as a new background process defaults to false
    [silent] (optional)

* task enqueue
  description: enqueue a defined task into your Actionhero cluster
  example: Actionhero task enqueue --name=[taskName] --args=[JSON-formatted args]
  inputs:
    [name]
    [args] (optional)
    [params] (optional)

* version
  description: return the Actionhero version within this project</span></code></pre><div><br/><h2 id="Linking the Actionhero Binary" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Linking the Actionhero Binary</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div><p>Actionhero is not designed to function when installed globally. Do not install Actionhero globally, using <code>npm install -g</code>. Modern versions of NPM (v5+) allow you to also use the <code>npx</code> command, ie: <code>npx Actionhero start cluster --workers=2</code>, which is a simple way to get to the Actionhero binary from the top-level of your project. Otherwise defining <code>scripts</code> referencing Actionhero in your <code>package.json</code> is the best way to run Actionhero:</p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code>{
  <span style="color:#219161">&quot;name&quot;</span>: <span style="color:#219161">&quot;my Actionhero project&quot;</span>,
  <span style="color:#219161">&quot;scripts&quot;</span>: {
    <span style="color:#219161">&quot;start&quot;</span> : <span style="color:#219161">&quot;Actionhero start&quot;</span>,
    <span style="color:#219161">&quot;dev&quot;</span> : <span style="color:#219161">&quot;ts-node-dev ./node_modules/.bin Actionhero start&quot;</span>,
    <span style="color:#219161">&quot;pretest&quot;</span>: <span style="color:#219161">&quot;prettier ...&quot;</span>,
    <span style="color:#219161">&quot;test&quot;</span> : <span style="color:#219161">&quot;jest&quot;</span>
  }
}</code></pre><div><br/><h2 id="Environments and Config" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Environments and Config</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div><p>By default, Actionhero will use the settings found in the <code>exports.default</code> blocks in <code>/config/</code>. However, you can set environment-specific overrides or changes. Actionhero inspects <code>process.env.NODE_ENV</code> to load up runtime configuration overrides from <code>exports.#{env}</code> blocks in your configuration files. This is the recommended way to have separate settings for staging and production.</p><p>The load order of configs is:</p><ul><li>default values in <code>/config</code></li><li>environment-specific values in <code>/config</code></li><li>options passed in to boot with <code>Actionhero.start({configChanges: configChanges})</code></li></ul><p>You can <code>{configChanges: {}}</code> to a new Actionhero.Process&#x27; <code>start</code> or <code>initialize</code> methods. This can be helpful when creating tests. When using CLI commands, you can also set <code>process.env.configChanges</code> or pass <code>--configChanges</code> on the command line. In these cases, <code>configChanges</code> should be stringified JSON.</p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code><span style="color:#408080;font-style:italic">// from ./config/namespace.js</span>
<span style="color:#954121">export</span> <span style="color:#954121">const</span> DEFAULT = {
  <span style="color:#954121">namespace</span>: <span class="hljs-function"><span style="color:#954121">function</span>(<span style="color:#00f">api</span>) </span>{
    <span style="color:#954121">return</span> {
      enabled: <span style="color:#954121">true</span>,
      safe: <span style="color:#954121">false</span>
    };
  }
};

<span style="color:#954121">export</span> <span style="color:#954121">const</span> production = {
  <span style="color:#954121">namespace</span>: <span class="hljs-function"><span style="color:#954121">function</span>(<span style="color:#00f">api</span>) </span>{
    <span style="color:#954121">return</span> {
      safe: <span style="color:#954121">true</span>
    };
  }
};</code></pre><p>In the example above, we are defining <code>config.namespace.enabled</code> and <code>config.namespace.safe</code>. In all environments (NODE_ENV) <code>config.namespace.enabled = true</code> Only in production would <code>config.namespace.safe = true</code>, it is <code>false</code> everywhere else.</p><div><br/><h2 id="Programatic Use of Actionhero" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Programatic Use of Actionhero</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div><p>While <strong>NOT</strong> encouraged, you can always instantiate an Actionhero process yourself. Perhaps you wish to combine Actionhero with an existing project. Here is how! Take note that using these methods will not work for a cluster process, and only a single instance will be started within your project.</p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code><span style="color:#954121">import</span> { Process } <span style="color:#954121">from</span> <span style="color:#219161">&quot;Actionhero&quot;</span>;
<span style="color:#954121">const</span> Actionhero = <span style="color:#954121">new</span> Process();

<span style="color:#954121">const</span> sleep = <span class="hljs-function">(<span style="color:#00f">time = 5000</span>) =&gt;</span> {
  <span style="color:#954121">return</span> <span style="color:#954121">new</span> <span style="color:#0086b3">Promise</span>(<span class="hljs-function"><span style="color:#00f">resolve</span> =&gt;</span> {
    setTimeout(resolve, time);
  });
};

<span style="color:#954121">const</span> api = <span style="color:#954121">await</span> Actionhero.start({ configChanges });

api.log(<span style="color:#219161">&quot; &gt;&gt; Boot Successful!&quot;</span>);
<span style="color:#954121">await</span> sleep();

api.log(<span style="color:#219161">&quot; &gt;&gt; restarting server...&quot;</span>);
<span style="color:#954121">await</span> Actionhero.restart();

api.log(<span style="color:#219161">&quot; &gt;&gt; Restarted!&quot;</span>);
<span style="color:#954121">await</span> sleep();

api.log(<span style="color:#219161">&quot; &gt;&gt; stopping server...&quot;</span>);
<span style="color:#954121">await</span> Actionhero.stop();
api.log(<span style="color:#219161">&quot; &gt;&gt; Stopped!&quot;</span>);
process.exit();</code></pre><p>Feel free to look at the source of <code>./node_modules/Actionhero/bin/methods/start</code> to see how the main Actionhero server is implemented for more information.</p><p>You can programmatically control an Actionhero server with <code>Actionhero.start(params)</code>, <code>Actionhero.stop()</code> and <code>Actionhero.restart()</code></p><p>From within Actionhero itself (actions, initializers, etc), you can use <code>api.commands.start</code>, <code>api.commands.stop</code>, and <code>api.commands.restart</code> to control the server.</p><div><br/><h2 id="Signals" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Signals</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code>&gt; npx Actionhero start cluster --workers=2
info: Actionhero &gt;&gt; start cluster
notice:  - STARTING CLUSTER -
notice: pid: 41382
info: starting worker <span style="color:#408080;font-style:italic">#1</span>
info: worker 41383 (<span style="color:#408080;font-style:italic">#1) has spawned</span>
info: Worker <span style="color:#408080;font-style:italic">#1 [41383]: starting</span>
info: Worker <span style="color:#408080;font-style:italic">#1 [41383]: started</span>
info: starting worker <span style="color:#408080;font-style:italic">#2</span>
info: worker 41384 (<span style="color:#408080;font-style:italic">#2) has spawned</span>
info: Worker <span style="color:#408080;font-style:italic">#2 [41384]: starting</span>
info: Worker <span style="color:#408080;font-style:italic">#2 [41384]: started</span>

<span style="color:#408080;font-style:italic"># A new terminal</span>
<span style="color:#0086b3">kill</span> -s TTIN \`cat pids/cluster_pidfile\`

info: worker 41632 (<span style="color:#408080;font-style:italic">#3) has spawned</span>
info: Worker <span style="color:#408080;font-style:italic">#3 [41632]: starting</span>
info: Worker <span style="color:#408080;font-style:italic">#3 [41632]: started</span>

<span style="color:#408080;font-style:italic"># A new terminal</span>
<span style="color:#0086b3">kill</span> -s KILL \`cat pids/cluster_pidfile\`

warning: Cluster manager quitting
info: Stopping each worker...
info: Worker <span style="color:#408080;font-style:italic">#1 [41901]: stopping</span>
info: Worker <span style="color:#408080;font-style:italic">#2 [41904]: stopping</span>
info: Worker <span style="color:#408080;font-style:italic">#3 [41906]: stopping</span>
info: Worker <span style="color:#408080;font-style:italic">#3 [41906]: stopped</span>
info: Worker <span style="color:#408080;font-style:italic">#2 [41904]: stopped</span>
info: Worker <span style="color:#408080;font-style:italic">#1 [41901]: stopped</span>
alert: worker 41901 (<span style="color:#408080;font-style:italic">#1) has exited</span>
alert: worker 41904 (<span style="color:#408080;font-style:italic">#2) has exited</span>
alert: worker 41906 (<span style="color:#408080;font-style:italic">#3) has exited</span>
info: all workers gone
notice: cluster complete, Bye!</code></pre><p>Actionhero is intended to be run on <code>*nix</code> operating systems. The <code>start</code> and <code>start cluster</code> commands provide support for signaling. (There is limited support for some of these commands in windows).</p><p><strong>Actionhero start</strong></p><ul><li><code>kill</code> / <code>term</code> / <code>int</code> : Process will attempt to &quot;gracefully&quot; shut down. That is, the worker will close all server connections (possibly sending a shutdown message to clients, depending on server type), stop all task workers, and eventually shut down. This action may take some time to fully complete.</li><li><code>USR2</code>: Process will restart itself. The process will preform the &quot;graceful shutdown&quot; above, and they restart.</li></ul><p><strong>Actionhero start cluster</strong></p><p>All signals should be sent to the cluster master process. You can still signal the termination of a worker, but the cluster manager will start a new one in its place.</p><ul><li><code>kill</code> / <code>term</code> / <code>int</code>: Will signal the master to &quot;gracefully terminate&quot; all workers. Master will terminate once all workers have completed</li><li><code>HUP</code> : Restart all workers.</li><li><code>USR2</code> : &quot;Hot reload&quot;. Worker will kill off existing workers one-by-one, and start a new worker in their place. This is used for 0-downtime restarts. Keep in mind that for a short while, your server will be running both old and new code while the workers are rolling.</li><li><code>TTOU</code>: remove one worker</li><li><code>TTIN</code>: add one worker</li></ul><div><br/><h2 id="Shutting Down" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Shutting Down</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div><p>When using <code>Actionhero start</code> or <code>Actionhero start cluster</code>, when you signal Actionhero to stop via the signals above (or from within your running application via <code>api.commands.stop()</code>), Actionhero will attempt to gracefully shutdown. This will include running any initializer&#x27;s <code>stop()</code> method. This will close any open servers, and attempt to allow any running tasks to complete.</p><p>Because things sometimes go wrong, <code>Actionhero start</code> and <code>Actionhero start cluster</code> also have a &quot;emergency stop&quot; timeout. This defaults to 30 seconds, and is configurable via the <code>ACTIONHERO_SHUTDOWN_TIMEOUT</code> environment variable. Be sure that your tasks and actions can complete within that window, or else raise that shutdown limit.</p><div><br/><h2 id="Windows Specific Notes" style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Windows Specific Notes</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div><ul><li>Sometimes Actionhero may require a git-based module (rather than a NPM module). You will need to have git installed. Depending on how you installed git, it may not be available to the node shell. Be sure to have also installed references to git. You can also run node/npm install from the git shell.<!-- -->*<!-- --> Sometimes, npm will not install the Actionhero binary @ <code>/node_modules/.bin/Actionhero</code>, but rather it will attempt to create a windows executable and wrapper. You can launch Actionhero directly with <code>./node_modules/Actionhero/bin/Actionhero</code></li></ul></div><div class="col-md-3"><div style="padding-top:90px"><ul style="list-style-type:none;padding-left:0;margin-left:0"></ul></div></div></div><hr/><p>Back to<!-- --> <a href="/tutorials">Tutorials</a></p></div><div class="hidden-xs hidden-sm col-md-3"></div></div></div><div style="background-color:#6E8898;color:#2F5266;font-weight:300;padding-top:100px;padding-bottom:100px"><div class="container"><div class="row"><div class="col-md-2"></div><div style="text-align:center;color:#FBF9E4;padding-bottom:100px" class="col-md-8"><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px">Solutions</h1><h2 style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="color:#FBF9E4">Actionhero was built from the ground up to include all the features you expect from a modern API framework.</span></h2></div><div class="col-md-2"></div></div><div class="row"><div class="col-md-4"><div style="width:100%;padding-top:40px;padding-bottom:40px;padding-left:40px;padding-right:50px;background-color:#FBF9E4;box-shadow:0px 2px 4px #003C51"><div style="text-align:center;padding-bottom:10px"><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px">Open Source</h1></div><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>The Actionhero server is open source, under the Apache-2 license</p><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>Actionhero runs on Linux, OS X, and Windows</p><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>You always have access to the Actionhero team via<!-- --> <a href="/community">Slack and Github</a></p><br/><br/><div><a style="text-decoration:none" href="/downloads"><button style="font-family:Roboto, sans-serif;font-weight:300;font-size:14px;max-width:200px;border-radius:50px;margin:0 auto;color:#FFFFFF;background-color:#E14E3A;border-color:#E14E3A;margin-top:20px;margin-bottom:20px;padding-top:15px;padding-bottom:15px;outline:none" type="button" class="btn btn-lg btn-default btn-block">Download</button></a></div></div></div><div class="hidden-md hidden-lg hidden-xl col-md-4"><div style="width:100%;padding:20px;background-color:#2F5266;color:#FFFFFF;box-shadow:0px 2px 4px #003C51"><div style="text-align:center"><img src="/static/images/dog.svg"/><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px"><span style="color:#FBF9E4">Premium Training &amp; Review</span></h1></div><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>We provide support for corporate &amp; nonprofit customers starting at a flat rate of $150/hr. Our services include:</p><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><ul><li><strong>Remote training for your team</strong></li><li><strong>Code Reviews</strong></li><li><strong>Best Practices Audits</strong></li><li><strong>Custom plugin &amp; Feature Development</strong></li></ul><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>We have packages appropriate for all company sizes. Contact us to learn more.</p><br/><div><button style="font-family:Roboto, sans-serif;font-weight:300;font-size:14px;max-width:200px;border-radius:50px;margin:0 auto;color:#FFFFFF;background-color:#E14E3A;border-color:#E14E3A;margin-top:20px;margin-bottom:20px;padding-top:15px;padding-bottom:15px;outline:none" type="button" class="btn btn-lg btn-default btn-block">Contact Us</button></div></div></div><div class="hidden-xs hidden-sm col-md-4"><div style="width:125%;padding:40px;background-color:#2F5266;color:#FFFFFF;position:relative;top:-60px;box-shadow:0px 2px 4px #003C51;margin-left:-13%;margin-right:-5%;z-index:10"><div style="text-align:center;padding-bottom:10px"><img src="/static/images/dog.svg"/><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px">Premium Training &amp; Review</h1></div><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>We provide support for corperate &amp; nonprofit customers starting at a flat rate of $150/hr. Our services include:</p><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><ul><li><strong>Remote training for your team</strong></li><li><strong>Code Reviews</strong></li><li><strong>Best Practices Workshops</strong></li><li><strong>Custom plugin &amp; Feature Development</strong></li></ul><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>We have packages appropriate for all company sizes. Contact us to learn more.</p><br/><div><button style="font-family:Roboto, sans-serif;font-weight:300;font-size:14px;max-width:200px;border-radius:50px;margin:0 auto;color:#FFFFFF;background-color:#E14E3A;border-color:#E14E3A;margin-top:20px;margin-bottom:20px;padding-top:15px;padding-bottom:15px;outline:none" type="button" class="btn btn-lg btn-default btn-block">Contact Us</button></div></div></div><div class="col-md-4"><div style="width:100%;padding-top:40px;padding-bottom:40px;padding-right:40px;padding-left:50px;background-color:#FBF9E4;box-shadow:0px 2px 4px #003C51"><div style="text-align:center;padding-bottom:10px"><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px">Enterprise</h1></div><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>For larger customers in need of a support contract, we offer an enterprise plan including everything in the Premium plan plus:</p><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><ul><li><strong>24/7 access to core members of the Actionhero Team</strong></li><li><strong>Emergency response packages</strong></li><li><strong>Deployment support</strong></li><li><strong>...and custom development against Actionhero’s core as needed.</strong></li></ul><br/><div><button style="font-family:Roboto, sans-serif;font-weight:300;font-size:14px;max-width:200px;border-radius:50px;margin:0 auto;color:#FFFFFF;background-color:#E14E3A;border-color:#E14E3A;margin-top:20px;margin-bottom:20px;padding-top:15px;padding-bottom:15px;outline:none" type="button" class="btn btn-lg btn-default btn-block">Contact Us</button></div></div></div></div></div></div></div><div style="padding-left:0;padding-right:0;font-family:Roboto, sans-serif;font-size:14px;font-weight:300" class="container-fluid"><footer id="footer-container" style="background-color:#2F5266;color:#FBF9E4;font-family:Roboto, sans-serif;font-weight:200"><div class="container"><div style="padding-bottom:50px;padding-top:50px;padding-left:100px" class="row"><div class="col-md-12"><img src="/static/images/Actionhero-logo-header-wordmark.svg"/></div></div><div style="padding-bottom:100px" class="row"><div class="col-md-4"><div style="padding-left:100px"><p><a style="color:#FBF9E4" href="/terms">Terms</a></p><p>Contact us at<!-- --> <a style="color:#FBF9E4;font-weight:500" href="mailto:hello@actionherojs.com">hello@actionherojs.com</a></p><p><a href="https://medium.com/tag/actionherojs/latest" target="_new" style="color:#FBF9E4">Blogs</a></p><p>© 2019<!-- --> <!-- -->Actionhero</p></div></div><div class="col-md-4"><div style="padding-left:100px"><p><a style="color:#FBF9E4" href="/why">Why Actionhero</a></p><p><a style="color:#FBF9E4" href="/get-started">Get Started</a></p><p><a href="https://docs.actionherojs.com" style="color:#FBF9E4">Documenation</a></p><p><a style="color:#FBF9E4" href="/solutions">Solutions</a></p><p><a style="color:#FBF9E4" href="/community">Community</a></p><p><a style="color:#FBF9E4" href="/downloads">Downloads</a></p></div></div><div class="col-md-4"><div style="padding-left:100px"><p><a href="https://www.npmjs.com/package/Actionhero" target="_new" style="color:#FBF9E4">NPM</a></p><p><a href="https://twitter.com/actionherojs" target="_new" style="color:#FBF9E4">Twitter</a></p><p><a href="https://slack.actionherojs.com/" target="_new" style="color:#FBF9E4">Slack</a></p><p><a href="https://github.com/Actionhero/Actionhero" target="_new" style="color:#FBF9E4">Github</a></p><p><a href="https://actionherojs.threadless.com" target="_new" style="color:#FBF9E4">Shop</a></p></div></div></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{"markdown":"## The Actionhero Binary\n\nThe suggested method to run your Actionhero server is to use the included `./node_modules/.bin/Actionhero` binary. Note that there is no `main.js` or specific start script your project needs. Actionhero handles this for you. Your Actionhero project simply needs to follow the proper directory conventions and it will be bootable.\n\nThe help for this binary is as follows:\n\n```\n--------------------------------------\nActionhero COMMAND \u003e\u003e help\n--------------------------------------\nActionhero - A multi-transport node.js API Server with integrated cluster capabilities and delayed tasks\n\nBinary options:\n\n* actions list\n* console\n* generate\n* generate action\n* generate cli\n* generate initializer\n* generate plugin\n* generate server\n* generate task\n* help\n* start\n* start cluster\n* task enqueue\n* version\n\nDescriptions:\n\n* actions list\n  description: I will list the actions defined on this server\n\n* console\n  description: start an interactive REPL session with the api object in-scope\n\n* generate\n  description: will prepare an empty directory with a template Actionhero project\n\n* generate action\n  description: generate a new action\n  example: Actionhero generate action --name=[name] --description=[description]\n  inputs:\n    [name]\n    [description]\n      default: an Actionhero action\n\n* generate cli\n  description: generate a new cli command\n  example: Actionhero generate cli --name=[name]\n  inputs:\n    [name]\n    [description] (optional)\n      default: an Actionhero cli command\n    [example] (optional)\n      default: Actionhero command --option=yes\n\n* generate initializer\n  description: generate a new initializer\n  example: Actionhero generate initializer --name=[name] --loadPriority=[p] --startPriority=[p] --stopPriority=[p]\n  inputs:\n    [name]\n    [loadPriority]\n      default: 1000\n    [startPriority]\n      default: 1000\n    [stopPriority]\n      default: 1000\n\n* generate plugin\n  description: generate the structure of a new Actionhero plugin in an empty directory\n  example: Actionhero generate plugin\n\n* generate server\n  description: generate a new server\n  example: Actionhero generate server --name=[name]\n  inputs:\n    [name]\n\n* generate task\n  description: generate a new task\n  example: Actionhero generate task --name=[name] --description=[description] --scope=[scope] --frequency=[frequency]\n  inputs:\n    [name]\n    [queue]\n    [description]\n      default: an Actionhero task\n    [frequency]\n\n* help\n  description: get actonhero CLI help; will display this document\n\n* start\n  description: start this Actionhero server\n  example: Actionhero start --config=[/path/to/config] --title=[processTitle] --daemon\n  inputs:\n    [config] (optional)\n      note: path to config.js, defaults to \"process.cwd()\" + '/' + config.js. You can also use ENV[ACTIONHERO_CONFIG]\n    [title] (optional)\n      note: process title to use for Actionhero\\'s ID, ps, log, and pidFile defaults. Must be unique for each member of the cluster. You can also use ENV[ACTIONHERO_TITLE]. Process renaming does not work on OSX/Windows\n    [daemon] (optional)\n      note: to fork and run as a new background process defaults to false\n\n* start cluster\n  description: start an Actionhero cluster\n  example: Actionhero start cluster --workers=[numWorkers] --workerTitlePrefix=[title] --daemon\n  inputs:\n    [workers]\n      note: number of workers (defaults to # CPUs)\n      default: 8\n    [title] (optional)\n      note: worker title prefix (default 'Actionhero-worker-') set `--workerTitlePrefix=hostname`, your app.id would be like your_host_name-#\n    [workerTitlePrefix]\n      default: Actionhero-worker-\n    [daemon] (optional)\n      note: to fork and run as a new background process defaults to false\n    [silent] (optional)\n\n* task enqueue\n  description: enqueue a defined task into your Actionhero cluster\n  example: Actionhero task enqueue --name=[taskName] --args=[JSON-formatted args]\n  inputs:\n    [name]\n    [args] (optional)\n    [params] (optional)\n\n* version\n  description: return the Actionhero version within this project\n```\n\n## Linking the Actionhero Binary\n\nActionhero is not designed to function when installed globally. Do not install Actionhero globally, using `npm install -g`. Modern versions of NPM (v5+) allow you to also use the `npx` command, ie: `npx Actionhero start cluster --workers=2`, which is a simple way to get to the Actionhero binary from the top-level of your project. Otherwise defining `scripts` referencing Actionhero in your `package.json` is the best way to run Actionhero:\n\n```js\n{\n  \"name\": \"my Actionhero project\",\n  \"scripts\": {\n    \"start\" : \"Actionhero start\",\n    \"dev\" : \"ts-node-dev ./node_modules/.bin Actionhero start\",\n    \"pretest\": \"prettier ...\",\n    \"test\" : \"jest\"\n  }\n}\n\n```\n\n## Environments and Config\n\nBy default, Actionhero will use the settings found in the `exports.default` blocks in `/config/`. However, you can set environment-specific overrides or changes. Actionhero inspects `process.env.NODE_ENV` to load up runtime configuration overrides from `exports.#{env}` blocks in your configuration files. This is the recommended way to have separate settings for staging and production.\n\nThe load order of configs is:\n\n- default values in `/config`\n- environment-specific values in `/config`\n- options passed in to boot with `Actionhero.start({configChanges: configChanges})`\n\nYou can `{configChanges: {}}` to a new Actionhero.Process' `start` or `initialize` methods. This can be helpful when creating tests. When using CLI commands, you can also set `process.env.configChanges` or pass `--configChanges` on the command line. In these cases, `configChanges` should be stringified JSON.\n\n```ts\n// from ./config/namespace.js\nexport const DEFAULT = {\n  namespace: function(api) {\n    return {\n      enabled: true,\n      safe: false\n    };\n  }\n};\n\nexport const production = {\n  namespace: function(api) {\n    return {\n      safe: true\n    };\n  }\n};\n```\n\nIn the example above, we are defining `config.namespace.enabled` and `config.namespace.safe`. In all environments (NODE_ENV) `config.namespace.enabled = true` Only in production would `config.namespace.safe = true`, it is `false` everywhere else.\n\n## Programatic Use of Actionhero\n\nWhile **NOT** encouraged, you can always instantiate an Actionhero process yourself. Perhaps you wish to combine Actionhero with an existing project. Here is how! Take note that using these methods will not work for a cluster process, and only a single instance will be started within your project.\n\n```ts\nimport { Process } from \"Actionhero\";\nconst Actionhero = new Process();\n\nconst sleep = (time = 5000) =\u003e {\n  return new Promise(resolve =\u003e {\n    setTimeout(resolve, time);\n  });\n};\n\nconst api = await Actionhero.start({ configChanges });\n\napi.log(\" \u003e\u003e Boot Successful!\");\nawait sleep();\n\napi.log(\" \u003e\u003e restarting server...\");\nawait Actionhero.restart();\n\napi.log(\" \u003e\u003e Restarted!\");\nawait sleep();\n\napi.log(\" \u003e\u003e stopping server...\");\nawait Actionhero.stop();\napi.log(\" \u003e\u003e Stopped!\");\nprocess.exit();\n```\n\nFeel free to look at the source of `./node_modules/Actionhero/bin/methods/start` to see how the main Actionhero server is implemented for more information.\n\nYou can programmatically control an Actionhero server with `Actionhero.start(params)`, `Actionhero.stop()` and `Actionhero.restart()`\n\nFrom within Actionhero itself (actions, initializers, etc), you can use `api.commands.start`, `api.commands.stop`, and `api.commands.restart` to control the server.\n\n## Signals\n\n```bash\n\u003e npx Actionhero start cluster --workers=2\ninfo: Actionhero \u003e\u003e start cluster\nnotice:  - STARTING CLUSTER -\nnotice: pid: 41382\ninfo: starting worker #1\ninfo: worker 41383 (#1) has spawned\ninfo: Worker #1 [41383]: starting\ninfo: Worker #1 [41383]: started\ninfo: starting worker #2\ninfo: worker 41384 (#2) has spawned\ninfo: Worker #2 [41384]: starting\ninfo: Worker #2 [41384]: started\n\n# A new terminal\nkill -s TTIN \\`cat pids/cluster_pidfile\\`\n\ninfo: worker 41632 (#3) has spawned\ninfo: Worker #3 [41632]: starting\ninfo: Worker #3 [41632]: started\n\n# A new terminal\nkill -s KILL \\`cat pids/cluster_pidfile\\`\n\nwarning: Cluster manager quitting\ninfo: Stopping each worker...\ninfo: Worker #1 [41901]: stopping\ninfo: Worker #2 [41904]: stopping\ninfo: Worker #3 [41906]: stopping\ninfo: Worker #3 [41906]: stopped\ninfo: Worker #2 [41904]: stopped\ninfo: Worker #1 [41901]: stopped\nalert: worker 41901 (#1) has exited\nalert: worker 41904 (#2) has exited\nalert: worker 41906 (#3) has exited\ninfo: all workers gone\nnotice: cluster complete, Bye!\n```\n\nActionhero is intended to be run on `*nix` operating systems. The `start` and `start cluster` commands provide support for signaling. (There is limited support for some of these commands in windows).\n\n**Actionhero start**\n\n- `kill` / `term` / `int` : Process will attempt to \"gracefully\" shut down. That is, the worker will close all server connections (possibly sending a shutdown message to clients, depending on server type), stop all task workers, and eventually shut down. This action may take some time to fully complete.\n- `USR2`: Process will restart itself. The process will preform the \"graceful shutdown\" above, and they restart.\n\n**Actionhero start cluster**\n\nAll signals should be sent to the cluster master process. You can still signal the termination of a worker, but the cluster manager will start a new one in its place.\n\n- `kill` / `term` / `int`: Will signal the master to \"gracefully terminate\" all workers. Master will terminate once all workers have completed\n- `HUP` : Restart all workers.\n- `USR2` : \"Hot reload\". Worker will kill off existing workers one-by-one, and start a new worker in their place. This is used for 0-downtime restarts. Keep in mind that for a short while, your server will be running both old and new code while the workers are rolling.\n- `TTOU`: remove one worker\n- `TTIN`: add one worker\n\n## Shutting Down\n\nWhen using `Actionhero start` or `Actionhero start cluster`, when you signal Actionhero to stop via the signals above (or from within your running application via `api.commands.stop()`), Actionhero will attempt to gracefully shutdown. This will include running any initializer's `stop()` method. This will close any open servers, and attempt to allow any running tasks to complete.\n\nBecause things sometimes go wrong, `Actionhero start` and `Actionhero start cluster` also have a \"emergency stop\" timeout. This defaults to 30 seconds, and is configurable via the `ACTIONHERO_SHUTDOWN_TIMEOUT` environment variable. Be sure that your tasks and actions can complete within that window, or else raise that shutdown limit.\n\n## Windows Specific Notes\n\n- Sometimes Actionhero may require a git-based module (rather than a NPM module). You will need to have git installed. Depending on how you installed git, it may not be available to the node shell. Be sure to have also installed references to git. You can also run node/npm install from the git shell.\\* Sometimes, npm will not install the Actionhero binary @ `/node_modules/.bin/Actionhero`, but rather it will attempt to create a windows executable and wrapper. You can launch Actionhero directly with `./node_modules/Actionhero/bin/Actionhero`\n","name":"running-actionhero"}},"page":"/tutorials/[name]","query":{"name":"running-actionhero"},"buildId":"35oW7JSExR43IpR5WpolR","nextExport":true}</script><script nomodule="" src="/_next/static/runtime/polyfills-099147a670e7b68459d6.js"></script><script async="" data-next-page="/tutorials/[name]" src="/_next/static/35oW7JSExR43IpR5WpolR/pages/tutorials/%5Bname%5D.js"></script><script async="" data-next-page="/_app" src="/_next/static/35oW7JSExR43IpR5WpolR/pages/_app.js"></script><script src="/_next/static/runtime/webpack-08f7b238829422e3b9b2.js" async=""></script><script src="/_next/static/chunks/commons.fb8e90ce3bafc15ecdd8.js" async=""></script><script src="/_next/static/runtime/main-2325b25da04a50e601b5.js" async=""></script></body></html>