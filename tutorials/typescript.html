<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="57x57" href="/static/images/icons/apple-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/static/images/icons/apple-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/static/images/icons/apple-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/static/images/icons/apple-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/static/images/icons/apple-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/static/images/icons/apple-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/static/images/icons/apple-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/static/images/icons/apple-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="/static/images/icons/apple-icon-180x180.png"/><link rel="icon" type="image/png" sizes="192x192" href="/static/images/icons/android-icon-192x192.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/images/icons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/static/images/icons/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/images/icons/favicon-16x16.png"/><meta name="viewport" content="width=device-width"/><link rel="stylesheet" type="text/css" href="/static/css/bootstrap.min.css"/><link rel="stylesheet" type="text/css" href="/static/css/bebasNeue.css"/><link rel="stylesheet" type="text/css" href="/static/css/animations.css"/><link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700,800|Roboto:100,300,400,500,700,900" rel="stylesheet"/><title>Actionhero</title><script src="/static/js/googleAnalytics.js"></script><meta name="next-head-count" content="21"/><link rel="preload" href="/_next/static/glhTN-ogL-h4BtQdhop0P/pages/tutorials/%5Bname%5D.js" as="script"/><link rel="preload" href="/_next/static/glhTN-ogL-h4BtQdhop0P/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-91b117697e716c22a78b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.dbd31ae8fa0e794339d4.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.951ee3a86146f43ff3ef.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-a439f05c489a40fb8abf.js" as="script"/><link rel="preload" href="/_next/static/chunks/39569620b6266e6ffd4da616490f0356c640cee6.df8ba5aacf2336156dd7.js" as="script"/><link rel="preload" href="/_next/static/chunks/283cfefd15c940d8665e054a01f28398bd756bb1.fee39761db1fc475c2ba.js" as="script"/><link rel="preload" href="/_next/static/chunks/68b060df8c1cfcaca4564e66853254f5d365b879.f4cec1a1186f868c77e4.js" as="script"/></head><body><div id="__next"><div><div style="padding-left:0;padding-right:0;font-family:Roboto, sans-serif;font-size:14px;font-weight:300" class="container-fluid"><div style="text-align:center;padding:10px;background-color:#FFFFFF;border-bottom:5px solid #E14E3A"><p><strong>We need your input!</strong><br/><br/>The Actionhero Team is working on our plans for 2020 and would like to solicit input from our community. <br/>Please take 5 to complete our<!-- --> <strong><a href="https://forms.gle/ZMmCqGN7pvgHKdz57" target="_blank">2020 Developer Survey</a></strong>! .</p></div><header style="background-color:#2F5266"><div class="container"><nav style="background-color:#2F5266;padding-top:5px;margin-bottom:10px;border:0" class="navbar navbar-default"><div class="container"><div class="navbar-header"><a style="padding-top:0;margin-bottom:15px" class="navbar-brand"><img src="/static/images/actionhero-logo-header-wordmark.svg" style="padding-top:14px;padding-bottom:20px"/></a><button type="button" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-right"></ul><ul class="hidden-md hidden-sm hidden-xs nav navbar-nav navbar-left"><li role="presentation" class=""><a role="button" href="#"> </a></li><li role="presentation" class=""><a role="button" href="#"> </a></li></ul><ul class="nav navbar-nav navbar-left"><li role="presentation" class="hidden-sm"><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Why Actionhero</span></a></li><li role="presentation" class=""><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Downloads</span></a></li><li role="presentation" class=""><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Tutorials</span></a></li><li role="presentation" class=""><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Documentation</span></a></li><li role="presentation" class="hidden-sm"><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Plugins</span></a></li><li role="presentation" class=""><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Community</span></a></li><li role="presentation" class=""><a role="button" href="#"><span style="line-height:3;color:#FFFFFF;padding-bottom:10px;font-weight:300">Shop</span></a></li></ul><ul class="nav navbar-nav navbar-right"><div><a style="text-decoration:none" href="/get-started"><button style="font-family:Roboto, sans-serif;font-size:14px;max-width:200px;border-radius:50px;margin:0 auto;color:#FFFFFF;background-color:#E14E3A;border-color:#E14E3A;font-weight:300;margin-top:20px;margin-bottom:0;margin-left:10px;margin-right:10px;outline:none" type="button" class="btn btn-lg btn-default btn-block">Get Started</button></a></div></ul></div></div></nav></div></header></div><div style="padding-left:0;padding-right:0;font-family:Roboto, sans-serif;font-size:14px;font-weight:300" class="container-fluid"><div style="background-color:#FBF9E4;color:#2F5266;font-weight:200;padding:50px"><div class="container"><div class="row"><div style="text-align:center" class="col-md-3"><img src="/static/images/dog.svg"/></div><div style="text-align:center" class="col-md-6"><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px"><br/>Typescript</h1></div><div class="col-md-3"></div></div></div></div><div style="height:183px;background:url(&quot;/static/images/clouds-white.svg&quot;) no-repeat center #FBF9E4"></div><div style="padding-bottom:100px" class="container"><div class="row"><div id="_top"></div><div id="docPageContent" class="col-md-12"><div id="tutorialPageContent" class="row"><div class="col-md-9"><p><strong>For Actionhero v21.x.x</strong></p><div><div id="Why Typescript?"><br/><h2 style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Why Typescript?</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div></div><p>Actionhero is moving to <a href="https://www.typescriptlang.org">Typescript</a>.</p><p>Typescript is a language that <code>compiles</code> to javascript that makes the developer experience much nicer. It includes features like type checking, sharing interfaces and modules, and generally other &quot;quality of life&quot; features found in other languages to help you write better javascript code.</p><p>For Actionhero, that means we can now provide:</p><h4>Type Hinting</h4><img style="width:90%" src="/static/images/tutorials/ts-actions.png"/><h4>Module definitions</h4><img style="width:90%" src="/static/images/tutorials/ts-cache.png"/><h4>Automatic Documentation directly from the code</h4><p>Visit <a href="https://docs.actionherojs.com/">docs.actionherojs.com</a> to see this live!
<img style="width:90%" src="/static/images/tutorials/docs.png"/></p><p>...and an overall more pleasant developer experience!</p><p><strong>Note</strong>: You do not have to use Typescript to use Actionhero! Other than some layout changes to your project, you can continue to use Actionhero with regular javascript node.js projects. We will always ship compiled javascript files to NPM so that actionhero will still work with the most recent versions of Node.js. That said, the generators will favor Typescript projects moving forward, creating Typescript files</p><p>Actionhero will create and install everything you need for a pleasant typescript experience, including a <code>tsconfig</code> file, node&#x27;s <code>@types</code> and development tools already linked into your <code>package.json</code></p><hr/><div><div id="Upgrading Packages &amp; Package.json"><br/><h2 style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Upgrading Packages &amp; Package.json</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div></div><p>If you are upgrading an existing Actionhero project, the first thing to do is install the related packages and create new files:</p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code>npm install --save actionhero@next
npm install --save-dev @types/node prettier
npm uninstall standard</code></pre><p>Update your scripts in <code>package.json</code></p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code><span style="color:#219161">&quot;scripts&quot;</span>: {
  <span class="hljs-attr">&quot;dev&quot;</span>: <span style="color:#219161">&quot;ts-node-dev --transpile-only src/server.ts&quot;</span>,
  <span class="hljs-attr">&quot;start&quot;</span>: <span style="color:#219161">&quot;node dist/server.js&quot;</span>,
  <span class="hljs-attr">&quot;actionhero&quot;</span>: <span style="color:#219161">&quot;actionhero&quot;</span>,
  <span class="hljs-attr">&quot;test&quot;</span>: <span style="color:#219161">&quot;jest&quot;</span>,
  <span class="hljs-attr">&quot;pretest&quot;</span>: <span style="color:#219161">&quot;npm run build &amp;&amp; npm run lint&quot;</span>,
  <span class="hljs-attr">&quot;postinstall&quot;</span>: <span style="color:#219161">&quot;npm run build&quot;</span>,
  <span class="hljs-attr">&quot;build&quot;</span>: <span style="color:#219161">&quot;tsc --declaration&quot;</span>,
  <span class="hljs-attr">&quot;lint&quot;</span>: <span style="color:#219161">&quot;prettier --check src/*/** __test__/*/**&quot;</span>,
  <span class="hljs-attr">&quot;pretty&quot;</span>: <span style="color:#219161">&quot;prettier --write src/*/** __test__/*/**&quot;</span>
},</code></pre><p>and your <code>jest</code> config as well, also in <code>package.json</code></p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code><span style="color:#219161">&quot;jest&quot;</span>: {
  <span class="hljs-attr">&quot;testEnvironment&quot;</span>: <span style="color:#219161">&quot;node&quot;</span>,
  <span class="hljs-attr">&quot;transform&quot;</span>: {
    <span class="hljs-attr">&quot;^.+\\.ts?$&quot;</span>: <span style="color:#219161">&quot;ts-jest&quot;</span>
  }
};</code></pre><p>Remove the block about <code>standard</code> from your <code>package.json</code>. We are switching to <a href="javascript:void(0)">prettier</a> because it has better typescript support.</p><p>Remember - you will be using <code>npm run dev</code> now when developing locally.</p><div><div id="Typescript Configuration"><br/><h2 style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Typescript Configuration</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div></div><p>Typescript is managed by a <code>tsconfig.json</code> file at the root of your project. Create one now with the following content:</p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code>{
  <span class="hljs-attr">&quot;compilerOptions&quot;</span>: {
    <span class="hljs-attr">&quot;outDir&quot;</span>: <span style="color:#219161">&quot;./dist&quot;</span>,
    <span class="hljs-attr">&quot;allowJs&quot;</span>: <span style="color:#954121">true</span>,
    <span class="hljs-attr">&quot;module&quot;</span>: <span style="color:#219161">&quot;commonjs&quot;</span>,
    <span class="hljs-attr">&quot;target&quot;</span>: <span style="color:#219161">&quot;es2018&quot;</span>
  },
  <span class="hljs-attr">&quot;include&quot;</span>: [<span style="color:#219161">&quot;./src/**/*&quot;</span>]
}</code></pre><div><div id="Project Structure"><br/><h2 style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Project Structure</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div></div><ol><li>Create the <code>src</code> and <code>dist</code> directories</li><li>Move Actions, Tasks, Initializers, Servers, and Config into <code>src</code></li><li>Create a new <code>modules</code> directory</li></ol><p>Your project should now look like this:</p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code>|
|- src
|  - server.ts
|
|  - config
|    - (project settings)
|
|  - actions
|    -- (your actions)
|
|  - initializers
|    -- (any additional initializers you want)
|
|  - servers
|    -- (custom servers you may make)
|
|  - tasks
|    -- (your tasks)
|
|  - bin
|    -- (your custom CLI commands)
|
|- locales
|-- (translation files)
|
|- __tests__
|-- (tests <span style="color:#954121">for</span> your API)
|
| - log
|-- (<span style="color:#954121">default</span> location <span style="color:#954121">for</span> logs)
|
|- node_modules
|-- (your modules, actionhero should be npm installed <span style="color:#954121">in</span> here)
|
|- pids
|-- (pidfiles <span style="color:#954121">for</span> your running servers)
|
|- public
|-- (your <span style="color:#954121">static</span> assets to be served by /file)
|
readme.md
package.json</code></pre><div><div id="Create server.ts"><br/><h2 style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Create server.ts</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div></div><p>Create <code>server.ts</code> at /src/server.ts</p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code><span style="color:#954121">import</span> { Process } <span style="color:#954121">from</span> <span style="color:#219161">&quot;actionhero&quot;</span>;

<span style="color:#408080;font-style:italic">// load any custom code, configure the env, as needed</span>

<span style="color:#954121">async</span> <span class="hljs-function"><span style="color:#954121">function</span> <span style="color:#458;font-weight:bold">main</span>(<span style="color:#00f"></span>) </span>{
  <span style="color:#408080;font-style:italic">// create a new actionhero process</span>
  <span style="color:#954121">const</span> app = <span style="color:#954121">new</span> Process();

  <span style="color:#408080;font-style:italic">// handle unix signals and uncaught exceptions &amp; rejections</span>
  app.registerProcessSignals();

  <span style="color:#408080;font-style:italic">// start the app!</span>
  <span style="color:#408080;font-style:italic">// you can pass custom configuration to the process as needed</span>
  <span style="color:#954121">await</span> app.start();
}

main();</code></pre><div><div id="Update JS to TS syntax"><br/><h2 style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Update JS to TS syntax</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div></div><p>Typescript uses the latest ES6-style syntax for importing and exporting things. You do not need to use babel to get this to work... Typescript does it for you!</p><ul><li>Rename all the files you just moved into <code>src</code> from <code>*.js</code> to <code>*.ts</code> files<ul><li>A Helpful rename command for unix/osx computers to do this is -&gt; <code>for f in _.js; do mv -- &quot;$f&quot; &quot;${f%.js}.ts&quot;; done</code></li></ul></li><li>Change the imports from Require-style <code>const {thing} = require(&#x27;thing&#x27;)</code> to Import-style <code>import { thing } from &#x27;thing&#x27;</code></li><li>Change all the exports from Module-style <code>module.exports = ...</code> or <code>exports.thing = ...</code> to ES6-style <code>export const thing = ...</code></li></ul><p>For example:</p><p><strong>OLD</strong></p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code><span style="color:#954121">const</span> { Action } = <span style="color:#0086b3">require</span>(<span style="color:#219161">&quot;actionhero&quot;</span>);

exports.default = <span class="hljs-class"><span style="color:#954121">class</span> <span style="color:#458;font-weight:bold">MyAction</span> <span style="color:#954121">extends</span> <span style="color:#458;font-weight:bold">Action</span> </span>{
  <span style="color:#954121">constructor</span>() {
    <span style="color:#954121">super</span>();
    <span style="color:#954121">this</span>.name = <span style="color:#219161">&quot;hello&quot;</span>;
    <span style="color:#954121">this</span>.description = <span style="color:#219161">&quot;an actionhero action&quot;</span>;
    <span style="color:#954121">this</span>.outputExample = { <span class="hljs-attr">message</span>: <span style="color:#219161">&quot;hello&quot;</span> };
  }

  <span style="color:#954121">async</span> run({ response }) {
    response.message = <span style="color:#219161">&quot;hello&quot;</span>;
  }
};</code></pre><p><strong>NEW</strong></p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code><span style="color:#954121">import</span> { Action } <span style="color:#954121">from</span> <span style="color:#219161">&quot;actionhero&quot;</span>;

<span style="color:#954121">export</span> <span style="color:#954121">class</span> MyAction <span style="color:#954121">extends</span> Action {
  <span style="color:#954121">constructor</span>(<span style="color:#00f"></span>) {
    <span style="color:#954121">super</span>();
    <span style="color:#954121">this</span>.name = <span style="color:#219161">&quot;hello&quot;</span>;
    <span style="color:#954121">this</span>.description = <span style="color:#219161">&quot;an actionhero action&quot;</span>;
    <span style="color:#954121">this</span>.outputExample = { message: <span style="color:#219161">&quot;hello&quot;</span> };
  }

  <span style="color:#954121">async</span> run({ response }) {
    response.message = <span style="color:#219161">&quot;hello&quot;</span>;
  }
}</code></pre><div><div id="Config"><br/><h2 style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Config</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div></div><p>The config module (it is a module now!) produces a static object with your configuration. This means that it can be required via <code>import {config} from &#x27;actionhero&#x27;</code> at any point in your project&#x27;s life cycle... you no longer need to wait for the initialization process to complete. However, this required some changes:</p><ul><li>The config methods no longer provide <code>api</code>, they provide <code>config</code>. Only other information from other config files is available to you, nothing from the rest of the application.</li></ul><p>To upgrade your config:</p><ul><li>Change all of the exports, per above. When exporting the default config, use <code>DEFAULT</code> (all caps), ie: <code>export const DEFAULT = {config: { ... }}</code></li><li>Update your paths in <code>config/general</code> , ie:</li></ul><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code>paths: {
  action: [path.join(__dirname, <span style="color:#219161">&quot;..&quot;</span>, <span style="color:#219161">&quot;actions&quot;</span>)],
  task: [path.join(__dirname, <span style="color:#219161">&quot;..&quot;</span>, <span style="color:#219161">&quot;tasks&quot;</span>)],
  server: [path.join(__dirname, <span style="color:#219161">&quot;..&quot;</span>, <span style="color:#219161">&quot;servers&quot;</span>)],
  cli: [path.join(__dirname, <span style="color:#219161">&quot;..&quot;</span>, <span style="color:#219161">&quot;bin&quot;</span>)],
  initializer: [path.join(__dirname, <span style="color:#219161">&quot;..&quot;</span>, <span style="color:#219161">&quot;initializers&quot;</span>)],
  public: [path.join(process.cwd(), <span style="color:#219161">&quot;public&quot;</span>)],
  pid: [path.join(process.cwd(), <span style="color:#219161">&quot;pids&quot;</span>)],
  log: [path.join(process.cwd(), <span style="color:#219161">&quot;log&quot;</span>)],
  plugin: [path.join(process.cwd(), <span style="color:#219161">&quot;node_modules&quot;</span>)],
  locale: [path.join(process.cwd(), <span style="color:#219161">&quot;locales&quot;</span>)],
  test: [path.join(process.cwd(), <span style="color:#219161">&quot;__tests__&quot;</span>)],
  src: path.join(process.cwd(), <span class="hljs-attr">&quot;src&quot;</span>),
  dist: path.join(process.cwd(), <span class="hljs-attr">&quot;dist&quot;</span>)
}</code></pre><p>Don’t forget any paths you might have in other environments (like <code>test</code>)!</p><div><div id="Middleware and Sessions"><br/><h2 style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Middleware and Sessions</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div></div><p>Now with Typescript, you’ll get an error if you try to set arbitrary properties on the data object either within an <code>Action</code> or <code>Middleware</code>. We need a place to pass data from the middleware to the action.</p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#000;background:#f8f8ff"><code><span style="color:#408080;font-style:italic">// in an initializer</span>
<span style="color:#954121">import</span> { action } <span style="color:#954121">from</span> <span style="color:#219161">&quot;actionhero&quot;</span>;
<span style="color:#954121">import</span> { models } <span style="color:#954121">from</span> <span style="color:#219161">&quot;./../models&quot;</span>; <span style="color:#408080;font-style:italic">// in your project</span>

<span style="color:#954121">const</span> authenticatedTeamMemberMiddleware = {
  name: <span style="color:#219161">&quot;authenticated-team-member&quot;</span>,
  global: <span style="color:#954121">false</span>,
  priority: <span style="color:#40a070">1000</span>,
  preProcessor: <span style="color:#954121">async</span> data =&gt; {
    <span style="color:#954121">const</span> { Team, TeamMember } = models;
    <span style="color:#954121">const</span> sessionData = <span style="color:#954121">await</span> api.session.load(data.connection);
    <span style="color:#954121">if</span> (!sessionData) {
      <span style="color:#954121">throw</span> <span style="color:#954121">new</span> <span style="color:#0086b3">Error</span>(<span style="color:#219161">&quot;Please log in to continue&quot;</span>);
    } <span style="color:#954121">else</span> <span style="color:#954121">if</span> (
      !data.params.csrfToken ||
      data.params.csrfToken !== sessionData.csrfToken
    ) {
      <span style="color:#954121">throw</span> <span style="color:#954121">new</span> <span style="color:#0086b3">Error</span>(<span style="color:#219161">&quot;CSRF error&quot;</span>);
    } <span style="color:#954121">else</span> {
      <span style="color:#954121">const</span> teamMember = <span style="color:#954121">await</span> TeamMember.findOne({
        where: { guid: sessionData.guid },
        include: Team
      });
      data.session.data = sessionData; <span style="color:#408080;font-style:italic">/// &lt;--- HERE/</span>
      data.session.teamMember = teamMember; <span style="color:#408080;font-style:italic">/// &lt;--- HERE/</span>
    }
  }
};

action.addMiddleware(authenticatedTeamMemberMiddleware);</code></pre><div><div id="Modules and Initializers"><br/><h2 style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Modules and Initializers</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div></div><p>A number of things have been moved out of the API object to simplify their use by creating import/export modules you can require directly. In this way, you can get type hinting for various parts of Actionhero! This is a logical separation between <code>initializers</code> - code that executes when your server boots up and loads or connects vs <code>modules</code> which provide an API for you to use in your code.</p><p>For example, the <code>task</code> system has been split into 2 parts - both a <code>module</code> and <code>initializer</code>. The initializer continues to load your tasks into <code>api.tasks.tasks</code>, but doesn’t expose any methods for you to use. Now, when you want to enqueue a task, you call <code>task.enqueue()</code> you load it from the module via <code>import {task} from &#x27;actionhero&#x27;</code></p><p>The <code>initialize</code>, <code>start</code>, and <code>stop</code> methods of your initializers will now be passed <code>config</code>. This is helpful in the off chance you are modifying <code>config</code> and cannot rely on the static export of that information (this is rare).</p><p><strong>Removed from the API object and are now directly exported by Actionhero as modules:</strong></p><p>ie: <code>import { log, config } from &#x27;actionhero&#x27;</code></p><ul><li>log (the method to write to the logs)</li><li>config (the config object hash)</li><li>action (addMiddleware)</li><li>task (addMiddleware)</li><li>cache</li><li>task</li><li>i18n</li><li>specHelper</li><li>id (the server’s id)</li><li>env (development, staging, production)</li><li>localize (method that accepts a string and a connection)</li></ul><p><strong>The API object</strong></p><p>what remains on the API object are truly things about your API - actions, tasks, servers, initializers. And now these elements are very typesafe. <strong><em>You can no longer add and remove things randomly to the API object</em></strong>. This means that in your project, you should create imports and exports directly and share them with your actions and tasks.</p><p><strong>Polyfill</strong></p><p>A polyfill will be included in the first few releases of Actionhero in typescript to port the new exports back to the <code>api</code> object. A warning will be displayed.</p><p>A new config setting to enable or disable the polyfill is located at <code>config.general.legacyApiPolyfill</code></p><div><div id="Config"><br/><h2 style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Config</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div></div><ul><li><code>config.general.id</code>: can no longer be set</li><li><code>config.i18n.determineConnectionLocale</code>: this method should be set on the <code>i18n</code> object exported by Actionhero.</li></ul><div><div id="Chat"><br/><h2 style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">Chat</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div></div><ul><li><code>chatRoom.sanitizeMemberDetails()</code> is no longer overrideable/customizable.</li></ul><div><div id="WatchFileAndAct"><br/><h2 style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="font-weight:300;font-size:36px">WatchFileAndAct</span></h2><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/></div></div><p>We have removed the custom module loaders for Actionhero&#x27;s development mode, <code>watchFileAndAct</code>. Now that we need to transpile our applications from typescript to javascript, we can rely on some of the excellent packages already developed for this purpose. Newly generated Actionhero projects will make use of <code>node-ts-dev</code> (<a href="https://github.com/whitecolor/ts-node-dev">https://github.com/whitecolor/ts-node-dev</a>) to boot and reload your projects when running in typescript mode.</p><p>Javascript projects can do a similar thing via the nodemon (<a href="https://nodemon.io/">https://nodemon.io/</a>) package</p></div><div class="hidden-xs hidden-sm col-md-3"><div style="height:0"><div style="padding-top:90px;position:sticky;top:0"><ul style="list-style-type:none;padding-left:0;margin-left:0"></ul></div></div></div></div><br/><div><a style="text-decoration:none" href="/tutorials"><button style="font-family:Roboto, sans-serif;font-weight:300;font-size:14px;max-width:200px;border-radius:50px;margin:0 auto;color:#FFFFFF;background-color:#E14E3A;border-color:#E14E3A;margin-top:20px;margin-bottom:20px;padding-top:15px;padding-bottom:15px;outline:none" type="button" class="btn btn-lg btn-default btn-block">Back to Tutorials</button></a></div></div><div class="hidden-xs hidden-sm col-md-3"></div></div></div><div style="background-color:#6E8898;color:#2F5266;font-weight:300;padding-top:100px;padding-bottom:100px"><div class="container"><div class="row"><div class="col-md-2"></div><div style="text-align:center;color:#FBF9E4;padding-bottom:100px" class="col-md-8"><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px">Solutions</h1><h2 style="font-family:Roboto, sans-serif;font-weight:300;font-size:20px;line-height:1.5em;color:#3B5D72"><span style="color:#FBF9E4">Actionhero was built from the ground up to include all the features you expect from a modern API framework.</span></h2></div><div class="col-md-2"></div></div><div class="row"><div class="col-md-4"><div style="width:100%;padding-top:40px;padding-bottom:40px;padding-left:40px;padding-right:50px;background-color:#FBF9E4;box-shadow:0px 2px 4px #003C51"><div style="text-align:center;padding-bottom:10px"><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px">Open Source</h1></div><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>The Actionhero server is open source, under the Apache-2 license</p><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>Actionhero runs on Linux, OS X, and Windows</p><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>You always have access to the Actionhero team via<!-- --> <a href="/community">Slack and Github</a></p><br/><br/><div><a style="text-decoration:none" href="/downloads"><button style="font-family:Roboto, sans-serif;font-weight:300;font-size:14px;max-width:200px;border-radius:50px;margin:0 auto;color:#FFFFFF;background-color:#E14E3A;border-color:#E14E3A;margin-top:20px;margin-bottom:20px;padding-top:15px;padding-bottom:15px;outline:none" type="button" class="btn btn-lg btn-default btn-block">Download</button></a></div></div></div><div class="hidden-md hidden-lg hidden-xl col-md-4"><div style="width:100%;padding:20px;background-color:#2F5266;color:#FFFFFF;box-shadow:0px 2px 4px #003C51"><div style="text-align:center"><img src="/static/images/dog.svg"/><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px"><span style="color:#FBF9E4">Premium Training &amp; Review</span></h1></div><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>We provide support for corporate &amp; nonprofit customers starting at a flat rate of $150/hr. Our services include:</p><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><ul><li><strong>Remote training for your team</strong></li><li><strong>Code Reviews</strong></li><li><strong>Best Practices Audits</strong></li><li><strong>Custom plugin &amp; Feature Development</strong></li></ul><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>We have packages appropriate for all company sizes. Contact us to learn more.</p><br/><div><button style="font-family:Roboto, sans-serif;font-weight:300;font-size:14px;max-width:200px;border-radius:50px;margin:0 auto;color:#FFFFFF;background-color:#E14E3A;border-color:#E14E3A;margin-top:20px;margin-bottom:20px;padding-top:15px;padding-bottom:15px;outline:none" type="button" class="btn btn-lg btn-default btn-block">Contact Us</button></div></div></div><div class="hidden-xs hidden-sm col-md-4"><div style="width:125%;padding:40px;background-color:#2F5266;color:#FFFFFF;position:relative;top:-60px;box-shadow:0px 2px 4px #003C51;margin-left:-13%;margin-right:-5%;z-index:10"><div style="text-align:center;padding-bottom:10px"><img src="/static/images/dog.svg"/><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px">Premium Training &amp; Review</h1></div><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>We provide support for corporate &amp; nonprofit customers starting at a flat rate of $150/hr. Our services include:</p><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><ul><li><strong>Remote training for your team</strong></li><li><strong>Code Reviews</strong></li><li><strong>Best Practices Workshops</strong></li><li><strong>Custom plugin &amp; Feature Development</strong></li></ul><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>We have packages appropriate for all company sizes. Contact us to learn more.</p><br/><div><button style="font-family:Roboto, sans-serif;font-weight:300;font-size:14px;max-width:200px;border-radius:50px;margin:0 auto;color:#FFFFFF;background-color:#E14E3A;border-color:#E14E3A;margin-top:20px;margin-bottom:20px;padding-top:15px;padding-bottom:15px;outline:none" type="button" class="btn btn-lg btn-default btn-block">Contact Us</button></div></div></div><div class="col-md-4"><div style="width:100%;padding-top:40px;padding-bottom:40px;padding-right:40px;padding-left:50px;background-color:#FBF9E4;box-shadow:0px 2px 4px #003C51"><div style="text-align:center;padding-bottom:10px"><h1 style="font-family:BebasNeue, Roboto, sans-serif;font-weight:bold;margin-top:20px;margin-bottom:10px;letter-spacing:2px;font-size:36px">Enterprise</h1></div><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><p>For larger customers in need of a support contract, we offer an enterprise plan including everything in the Premium plan plus:</p><hr style="color:#E14E3A;background-color:#E14E3A;border:0;height:2px"/><ul><li><strong>24/7 access to core members of the Actionhero Team</strong></li><li><strong>Emergency response packages</strong></li><li><strong>Deployment support</strong></li><li><strong>...and custom development against Actionhero’s core as needed.</strong></li></ul><br/><div><button style="font-family:Roboto, sans-serif;font-weight:300;font-size:14px;max-width:200px;border-radius:50px;margin:0 auto;color:#FFFFFF;background-color:#E14E3A;border-color:#E14E3A;margin-top:20px;margin-bottom:20px;padding-top:15px;padding-bottom:15px;outline:none" type="button" class="btn btn-lg btn-default btn-block">Contact Us</button></div></div></div></div></div></div></div><div style="padding-left:0;padding-right:0;font-family:Roboto, sans-serif;font-size:14px;font-weight:300" class="container-fluid"><footer id="footer-container" style="background-color:#2F5266;color:#FBF9E4;font-family:Roboto, sans-serif;font-weight:200"><div class="container"><div style="padding-bottom:50px;padding-top:50px;padding-left:100px" class="row"><div class="col-md-12"><img src="/static/images/actionhero-logo-header-wordmark.svg"/></div></div><div style="padding-bottom:100px" class="row"><div class="col-md-4"><div style="padding-left:100px"><p><a style="color:#FBF9E4" href="/terms">Terms</a></p><p>Contact us at<!-- --> <a style="color:#FBF9E4;font-weight:500" href="mailto:hello@actionherojs.com">hello@actionherojs.com</a></p><p>You can contribute to this website<!-- --> <a style="color:#FBF9E4;font-weight:500" href="https://github.com/actionhero/www.actionherojs.com" target="_blank">here</a>.</p><p><a href="https://medium.com/tag/actionherojs/latest" target="_new" style="color:#FBF9E4">Blogs</a></p><p style="color:#FFFFFF;font-weight:bold">© 2020<!-- --> <!-- -->Actionhero</p></div></div><div class="col-md-4"><div style="padding-left:100px"><p><a style="color:#FBF9E4" href="/why">Why Actionhero</a></p><p><a style="color:#FBF9E4" href="/get-started">Get Started</a></p><p><a href="https://docs.actionherojs.com" style="color:#FBF9E4">Documenation</a></p><p><a style="color:#FBF9E4" href="/solutions">Solutions</a></p><p><a style="color:#FBF9E4" href="/community">Community</a></p><p><a style="color:#FBF9E4" href="/downloads">Downloads</a></p></div></div><div class="col-md-4"><div style="padding-left:100px"><p><a href="https://www.npmjs.com/package/actionhero" target="_new" style="color:#FBF9E4">NPM</a></p><p><a href="https://twitter.com/actionherojs" target="_new" style="color:#FBF9E4">Twitter</a></p><p><a href="https://slack.actionherojs.com/" target="_new" style="color:#FBF9E4">Slack</a></p><p><a href="https://github.com/Actionhero/Actionhero" target="_new" style="color:#FBF9E4">Github</a></p><p><a href="https://actionherojs.threadless.com" target="_new" style="color:#FBF9E4">Shop</a></p></div></div></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"markdown":"**For Actionhero v21.x.x**\n\n## Why Typescript?\n\nActionhero is moving to [Typescript](https://www.typescriptlang.org).\n\nTypescript is a language that `compiles` to javascript that makes the developer experience much nicer. It includes features like type checking, sharing interfaces and modules, and generally other \"quality of life\" features found in other languages to help you write better javascript code.\n\nFor Actionhero, that means we can now provide:\n\n\u003ch4\u003eType Hinting\u003c/h4\u003e\n\n\u003cimg style=\"width:90%\" src='/static/images/tutorials/ts-actions.png' /\u003e\n\n\u003ch4\u003eModule definitions\u003c/h4\u003e\n\n\u003cimg style=\"width:90%\" src='/static/images/tutorials/ts-cache.png' /\u003e\n\n\u003ch4\u003eAutomatic Documentation directly from the code\u003c/h4\u003e\n\nVisit [docs.actionherojs.com](https://docs.actionherojs.com/) to see this live!\n\u003cimg style=\"width:90%\" src='/static/images/tutorials/docs.png' /\u003e\n\n...and an overall more pleasant developer experience!\n\n**Note**: You do not have to use Typescript to use Actionhero! Other than some layout changes to your project, you can continue to use Actionhero with regular javascript node.js projects. We will always ship compiled javascript files to NPM so that actionhero will still work with the most recent versions of Node.js. That said, the generators will favor Typescript projects moving forward, creating Typescript files\n\nActionhero will create and install everything you need for a pleasant typescript experience, including a `tsconfig` file, node's `@types` and development tools already linked into your `package.json`\n\n---\n\n## Upgrading Packages \u0026 Package.json\n\nIf you are upgrading an existing Actionhero project, the first thing to do is install the related packages and create new files:\n\n```sh\nnpm install --save actionhero@next\nnpm install --save-dev @types/node prettier\nnpm uninstall standard\n```\n\nUpdate your scripts in `package.json`\n\n```json\n\"scripts\": {\n  \"dev\": \"ts-node-dev --transpile-only src/server.ts\",\n  \"start\": \"node dist/server.js\",\n  \"actionhero\": \"actionhero\",\n  \"test\": \"jest\",\n  \"pretest\": \"npm run build \u0026\u0026 npm run lint\",\n  \"postinstall\": \"npm run build\",\n  \"build\": \"tsc --declaration\",\n  \"lint\": \"prettier --check src/*/** __test__/*/**\",\n  \"pretty\": \"prettier --write src/*/** __test__/*/**\"\n},\n```\n\nand your `jest` config as well, also in `package.json`\n\n```json\n\"jest\": {\n  \"testEnvironment\": \"node\",\n  \"transform\": {\n    \"^.+\\\\.ts?$\": \"ts-jest\"\n  }\n};\n```\n\nRemove the block about `standard` from your `package.json`. We are switching to [prettier](_https://prettier.io) because it has better typescript support.\n\nRemember - you will be using `npm run dev` now when developing locally.\n\n## Typescript Configuration\n\nTypescript is managed by a `tsconfig.json` file at the root of your project. Create one now with the following content:\n\n```json\n{\n  \"compilerOptions\": {\n    \"outDir\": \"./dist\",\n    \"allowJs\": true,\n    \"module\": \"commonjs\",\n    \"target\": \"es2018\"\n  },\n  \"include\": [\"./src/**/*\"]\n}\n```\n\n## Project Structure\n\n1. Create the `src` and `dist` directories\n2. Move Actions, Tasks, Initializers, Servers, and Config into `src`\n3. Create a new `modules` directory\n\nYour project should now look like this:\n\n```\n|\n|- src\n|  - server.ts\n|\n|  - config\n|    - (project settings)\n|\n|  - actions\n|    -- (your actions)\n|\n|  - initializers\n|    -- (any additional initializers you want)\n|\n|  - servers\n|    -- (custom servers you may make)\n|\n|  - tasks\n|    -- (your tasks)\n|\n|  - bin\n|    -- (your custom CLI commands)\n|\n|- locales\n|-- (translation files)\n|\n|- __tests__\n|-- (tests for your API)\n|\n| - log\n|-- (default location for logs)\n|\n|- node_modules\n|-- (your modules, actionhero should be npm installed in here)\n|\n|- pids\n|-- (pidfiles for your running servers)\n|\n|- public\n|-- (your static assets to be served by /file)\n|\nreadme.md\npackage.json\n```\n\n## Create server.ts\n\nCreate `server.ts` at /src/server.ts\n\n```ts\nimport { Process } from \"actionhero\";\n\n// load any custom code, configure the env, as needed\n\nasync function main() {\n  // create a new actionhero process\n  const app = new Process();\n\n  // handle unix signals and uncaught exceptions \u0026 rejections\n  app.registerProcessSignals();\n\n  // start the app!\n  // you can pass custom configuration to the process as needed\n  await app.start();\n}\n\nmain();\n```\n\n## Update JS to TS syntax\n\nTypescript uses the latest ES6-style syntax for importing and exporting things. You do not need to use babel to get this to work... Typescript does it for you!\n\n- Rename all the files you just moved into `src` from `*.js` to `*.ts` files\n  - A Helpful rename command for unix/osx computers to do this is -\u003e `for f in _.js; do mv -- \"$f\" \"${f%.js}.ts\"; done`\n- Change the imports from Require-style `const {thing} = require('thing')` to Import-style `import { thing } from 'thing'`\n- Change all the exports from Module-style `module.exports = ...` or `exports.thing = ...` to ES6-style `export const thing = ...`\n\nFor example:\n\n**OLD**\n\n```js\nconst { Action } = require(\"actionhero\");\n\nexports.default = class MyAction extends Action {\n  constructor() {\n    super();\n    this.name = \"hello\";\n    this.description = \"an actionhero action\";\n    this.outputExample = { message: \"hello\" };\n  }\n\n  async run({ response }) {\n    response.message = \"hello\";\n  }\n};\n```\n\n**NEW**\n\n```ts\nimport { Action } from \"actionhero\";\n\nexport class MyAction extends Action {\n  constructor() {\n    super();\n    this.name = \"hello\";\n    this.description = \"an actionhero action\";\n    this.outputExample = { message: \"hello\" };\n  }\n\n  async run({ response }) {\n    response.message = \"hello\";\n  }\n}\n```\n\n## Config\n\nThe config module (it is a module now!) produces a static object with your configuration. This means that it can be required via `import {config} from 'actionhero'` at any point in your project's life cycle... you no longer need to wait for the initialization process to complete. However, this required some changes:\n\n- The config methods no longer provide `api`, they provide `config`. Only other information from other config files is available to you, nothing from the rest of the application.\n\nTo upgrade your config:\n\n- Change all of the exports, per above. When exporting the default config, use `DEFAULT` (all caps), ie: `export const DEFAULT = {config: { ... }}`\n- Update your paths in `config/general` , ie:\n\n```json\npaths: {\n  action: [path.join(__dirname, \"..\", \"actions\")],\n  task: [path.join(__dirname, \"..\", \"tasks\")],\n  server: [path.join(__dirname, \"..\", \"servers\")],\n  cli: [path.join(__dirname, \"..\", \"bin\")],\n  initializer: [path.join(__dirname, \"..\", \"initializers\")],\n  public: [path.join(process.cwd(), \"public\")],\n  pid: [path.join(process.cwd(), \"pids\")],\n  log: [path.join(process.cwd(), \"log\")],\n  plugin: [path.join(process.cwd(), \"node_modules\")],\n  locale: [path.join(process.cwd(), \"locales\")],\n  test: [path.join(process.cwd(), \"__tests__\")],\n  src: path.join(process.cwd(), \"src\"),\n  dist: path.join(process.cwd(), \"dist\")\n}\n```\n\nDon’t forget any paths you might have in other environments (like `test`)!\n\n## Middleware and Sessions\n\nNow with Typescript, you’ll get an error if you try to set arbitrary properties on the data object either within an `Action` or `Middleware`. We need a place to pass data from the middleware to the action.\n\n```ts\n// in an initializer\nimport { action } from \"actionhero\";\nimport { models } from \"./../models\"; // in your project\n\nconst authenticatedTeamMemberMiddleware = {\n  name: \"authenticated-team-member\",\n  global: false,\n  priority: 1000,\n  preProcessor: async data =\u003e {\n    const { Team, TeamMember } = models;\n    const sessionData = await api.session.load(data.connection);\n    if (!sessionData) {\n      throw new Error(\"Please log in to continue\");\n    } else if (\n      !data.params.csrfToken ||\n      data.params.csrfToken !== sessionData.csrfToken\n    ) {\n      throw new Error(\"CSRF error\");\n    } else {\n      const teamMember = await TeamMember.findOne({\n        where: { guid: sessionData.guid },\n        include: Team\n      });\n      data.session.data = sessionData; /// \u003c--- HERE/\n      data.session.teamMember = teamMember; /// \u003c--- HERE/\n    }\n  }\n};\n\naction.addMiddleware(authenticatedTeamMemberMiddleware);\n```\n\n## Modules and Initializers\n\nA number of things have been moved out of the API object to simplify their use by creating import/export modules you can require directly. In this way, you can get type hinting for various parts of Actionhero! This is a logical separation between `initializers` - code that executes when your server boots up and loads or connects vs `modules` which provide an API for you to use in your code.\n\nFor example, the `task` system has been split into 2 parts - both a `module` and `initializer`. The initializer continues to load your tasks into `api.tasks.tasks`, but doesn’t expose any methods for you to use. Now, when you want to enqueue a task, you call `task.enqueue()` you load it from the module via `import {task} from 'actionhero'`\n\nThe `initialize`, `start`, and `stop` methods of your initializers will now be passed `config`. This is helpful in the off chance you are modifying `config` and cannot rely on the static export of that information (this is rare).\n\n**Removed from the API object and are now directly exported by Actionhero as modules:**\n\nie: `import { log, config } from 'actionhero'`\n\n- log (the method to write to the logs)\n- config (the config object hash)\n- action (addMiddleware)\n- task (addMiddleware)\n- cache\n- task\n- i18n\n- specHelper\n- id (the server’s id)\n- env (development, staging, production)\n- localize (method that accepts a string and a connection)\n\n**The API object**\n\nwhat remains on the API object are truly things about your API - actions, tasks, servers, initializers. And now these elements are very typesafe. **_You can no longer add and remove things randomly to the API object_**. This means that in your project, you should create imports and exports directly and share them with your actions and tasks.\n\n**Polyfill**\n\nA polyfill will be included in the first few releases of Actionhero in typescript to port the new exports back to the `api` object. A warning will be displayed.\n\nA new config setting to enable or disable the polyfill is located at `config.general.legacyApiPolyfill`\n\n## Config\n\n- `config.general.id`: can no longer be set\n- `config.i18n.determineConnectionLocale`: this method should be set on the `i18n` object exported by Actionhero.\n\n## Chat\n\n- `chatRoom.sanitizeMemberDetails()` is no longer overrideable/customizable.\n\n## WatchFileAndAct\n\nWe have removed the custom module loaders for Actionhero's development mode, `watchFileAndAct`. Now that we need to transpile our applications from typescript to javascript, we can rely on some of the excellent packages already developed for this purpose. Newly generated Actionhero projects will make use of `node-ts-dev` (https://github.com/whitecolor/ts-node-dev) to boot and reload your projects when running in typescript mode.\n\nJavascript projects can do a similar thing via the nodemon (https://nodemon.io/) package\n","name":"typescript"}},"page":"/tutorials/[name]","query":{"name":"typescript"},"buildId":"glhTN-ogL-h4BtQdhop0P","nextExport":true,"isFallback":false}</script><script nomodule="" src="/_next/static/runtime/polyfills-724d884f9cbfd0f2db1d.js"></script><script async="" data-next-page="/tutorials/[name]" src="/_next/static/glhTN-ogL-h4BtQdhop0P/pages/tutorials/%5Bname%5D.js"></script><script async="" data-next-page="/_app" src="/_next/static/glhTN-ogL-h4BtQdhop0P/pages/_app.js"></script><script src="/_next/static/runtime/webpack-91b117697e716c22a78b.js" async=""></script><script src="/_next/static/chunks/framework.dbd31ae8fa0e794339d4.js" async=""></script><script src="/_next/static/chunks/commons.951ee3a86146f43ff3ef.js" async=""></script><script src="/_next/static/runtime/main-a439f05c489a40fb8abf.js" async=""></script><script src="/_next/static/chunks/39569620b6266e6ffd4da616490f0356c640cee6.df8ba5aacf2336156dd7.js" async=""></script><script src="/_next/static/chunks/283cfefd15c940d8665e054a01f28398bd756bb1.fee39761db1fc475c2ba.js" async=""></script><script src="/_next/static/chunks/68b060df8c1cfcaca4564e66853254f5d365b879.f4cec1a1186f868c77e4.js" async=""></script><script src="/_next/static/glhTN-ogL-h4BtQdhop0P/_buildManifest.js" async=""></script></body></html>